---
eip: 7329
title: ERC/EIP 仓库分离
description: 将 ERC 规范从 EIP 仓库中分离到一个新仓库中，以便只保留核心协议 EIP
author: Lightclient (@lightclient), Danno Ferrin (@shemnon)
discussions-to: https://ethereum-magicians.org/t/proposal-forking-ercs-from-eips-repository/12804
status: Final
type: Meta
created: 2023-07-13
requires: 1
---

## 摘要

描述了将 EIP 仓库分离为一个针对核心以太坊变更的 EIP 仓库和一个针对应用层规范的 ERC 仓库的动机和理由。

## 动机

很久以前，当 EIPs 仓库创建时，曾有一个将所有与以太坊相关的标准集中在一个地方的愿景。社区很小，大多数人都在生态系统的每个层面进行互动。将应用标准与核心共识变更结合在一起是有意义的。

自那时起，生态系统已经发展。如今，应用开发与核心开发之间的鸿沟很大。参与整个生态系统的人越来越少（无论好坏）；然而，仓库仍然是统一的。

多年来，我们一直在考虑分离仓库。这将允许 ERC 和 EIP 规范由于独立性而更自然地发展。但要实现这样的变更，总是很难达到关键的阈值。每次我们都迷失在迁移的细节中，辩论使进展停滞不前。

现在共识层也在利用 EIP 过程，裂痕变得更加明显。我们可以对该过程进行一些更改，这可能对他们更有利，但因为我们还需要确保 ERC 的质量，我们受到限制。

还有许多其他努力旨在围绕 ERC 过程催化应用。已经尝试为某些 ERC “类别”开发工作组和评审组（这种区分甚至在技术上并不存在，因为仓库是统一的）。

## 规范

本规范仅详细说明分离的初始机制。每个仓库如何自我管理的细节超出了本 EIP 的范围，因为本 EIP 的动机点在于社区的不同需求将需要高度不同的方法。

1. 所有 ERC 和接口类别的 EIP 从此仓库中移除并迁移到一个新仓库。历史应保持完整，因此该仓库应从此仓库分叉，移除非 ERC。
2. 新的 ERC 仓库上线，并包含脚本中的更改。
3. 设置 ercs.ethereum.org 子域并更新 CI 指向 ERC 仓库。
4. 为 eips.ethereum.org 上的 ERC 设置重定向，以指向新网站。
5. 创建一个统一文档供编辑者分配 EIP/ERC 编号。EIP 和 ERC 将不再基于初始 PR 编号，而是基于各自仓库的 EIP 编辑者递增的编号。EIP 将分配偶数，ERC 将分配奇数。此迁移的确切时间是编辑者的政策决定。

EIP 仓库将与核心协议变更相关，特别是那些将在 AllCoreDevs 会议中讨论的变更；而 ERC 仓库将与所有其他领域相关，如智能合约应用接口、钱包标准、DeFi 协议标准以及所有其他不需要核心协议变更的改进。

这种关联将在 EIP 编辑者可能引入的任何其他过程变更中持续存在，例如工作组、主题组、专家组、特殊利益小组、过程分割或其他此类变更。任何包含核心协议变更的子分组将与 EIP 仓库相关，而其他子分组则与 ERC 仓库相关。任何此类过程变更超出了本 EIP 的范围，并且与本 EIP 中指定的仓库结构变更是独立的。

可能会对仓库布局进行进一步的结构性更改，以容纳更多的子分组。这些提案超出了本 EIP 的范围。

## 理由

EIP 过程服务于两个主要社区，它们的需求高度不同且非常差异化。

让我们考虑规范模糊性的影响，影响因社区而异。核心协议社区对实现差异的容忍度低，对规范模糊性的惩罚高。新规范中不当实现的部分可能导致以太坊主网分裂，可能使节点运营商以及使用以太坊协议提供的服务的社区成员损失数百万到数十亿的价值。然而，规范不佳的 Solidity 接口可以在任何选择实现它的智能合约中以多种兼容方式进行适配和实现。缺少 RPC API（例如指定链上原生货币的小数位数的配置选项）对不选择使用该钱包的其他社区的影响有限或为零。

功能交付的时间框架也同样存在差异。调整交易数据的 gas 成本的核心协议 EIP 需要在网络上统一地在特定时间推出。而支持新语义的 gas 估算的新 RPC 则不需要在以太坊客户端之间统一推出，实际上还需要由提供以太坊网络 RPC 服务的服务提供商推出。钱包可以利用早期支持作为吸引社区成员的差异化因素。

为了应对这种差异，AllCoreDevs 会议采用了与 EIP 仓库的草案 -> 审查 -> 最后呼叫 -> 最终 生命周期不同的 EIP 生命周期。它最好被描述为草案 -> 可纳入 -> 考虑纳入 -> 测试网 -> 主网。EIP 还在第三步中被安排进行分叉，这一考虑显然不适用于智能合约或钱包标准。

已经提出了几种替代方案，但实际实施进一步强调了分离双方所面临的专业化。

### 替代方案：工作组

编辑者反复关注的一个问题是，他们通常缺乏足够的技术经验来判断一个 EIP 是否完整和合理。考虑到 EIP 涉及广泛的主题，如椭圆曲线密码学、虚拟机性能、DeFi 市场动态、压缩协议、NFT 版权和共识协议，单个编辑者不可能对所有这些主题提供合理的反馈。

然而，在审视核心协议和 ERC 社区如何处理工作组过程时，强调了他们处理方式的不同。对于核心协议变更，工作组将是两个 AllCoreDevs 会议之一，即 AllCoreDevs-Execution 或 AllCoreDevs-Consensus，有时是两个会议都有。没有任何 EIP 会在主网中发布，而不首先经过这两个小组的广泛考虑。

ERC 提案没有这样的常设小组。影响钱包的变更可能会通过 AllWalletDevs 小组，但钱包或钱包组完全可以在 AllWalletDevs 之外协作开发协议。智能合约 API 没有这样的常设会议。
工作组模型对于 ERC 社区来说将是一个重要的社会信号。如果足够多的专家能够聚在一起同意审查一组变更，这将为特定提案问题发出一个关键的信号。

虽然工作组对 ERC 社区非常有利，但对于核心协议社区来说，这是一种额外的负担，只会给已经建立的流程增加摩擦，并且有已知的治理检查点。

### 替代方案：专门编辑

这一替代方案已经通过引入 `eip-editors.yml` 文件得以实施。这允许不同的编辑组审查不同类型的 EIP。

对社区的分歧没有可测量的影响。大多数类别与其他类别有显著重叠。

这一替代方案并没有解决核心协议开发者希望实施的治理和工作流程问题。所有子组仍将受到与其他组相同的工作流程的约束。

### 替代方案：与流程分歧无关的痛点

这是一个涵盖多项提案的总括，从允许在讨论中使用 Discord 链接到允许在外部链接中有更多自由。

虽然理论上这可能会减少用户和编辑所感受到的总痛苦，将痛苦水平降低到更可接受的水平，但这并没有解决核心分歧问题。许多这些缓解痛苦的提案无论 EIP 仓库是否分裂都应该进行。

### 替代方案：用 AI 聊天机器人替代 EIP 编辑

在这个提案中没有人会受益。我们最终只会争论训练集、竞争实现以及是否使用商业提供者。如果事情进展顺利，那就更好了。

然而，如果所有裁决都通过一个模型或一个聊天会话来处理，AI 聊天机器人将无法将多个组的不同需求进行区分。如果为每个主要功能领域使用单独的训练库，将会获得更高质量的输出。

### 替代方案并不相互排斥

重要的是要注意，大多数讨论的替代方案都有其优点，并解决了重要的痛点。采用分裂不应被视为对这些替代方案的拒绝。引用一个著名的互联网 meme：“为什么不两者都要？”

### 反对意见：这会分裂以太坊社区

一个反对意见是，分裂仓库将导致社区无法再说“我们都是以太坊魔法师”。

首先，重要的是要注意，这种分裂已经在发生。AllCoreDevs 会议已经分裂为共识层和执行层会议。ACD 会议不再讨论客户端问题，如钱包 API，AllWalletDevs 会议已经接管了这些问题，并扩展到用户体验问题。跨链问题已被链无关改进过程（CAIP）小组接管。

与其分裂，不如将其视为“分片”，其中一个感兴趣的子社区围绕一个共享的子问题聚集在一起，通过聚集能够扩大社区的整体范围。CAIP 是一个完美的例子，表明与 EIP 分开运作使他们能够增强以太坊社区。

单细胞生物在长大后分裂成两个时会变弱吗？动物在细胞分裂并专门化为不同任务时会变弱吗？正是这种分裂和专门化的行为使其能够完成作为单一均匀细胞时不可能完成的事情。

### 反对意见：这应该是一个 [EIP-1](./eip-1.md) 提案

由于这直接影响 ERC 过程，因此应首先在 [EIP-1](./eip-1.md) 中记录。

正如古老的编程格言所说：“在添加任何新功能之前先重构。” 为后分裂治理文档添加特定的新流程只会混淆现有流程，为一类不适用于另一类的 EIP 添加特例。正是这种问题是提议分裂旨在改变的。

这也是一个有效的元类别 EIP 的理由，因为将提案放入哪个仓库以及多少个仓库是“程序、指南和决策过程的变更”的核心。

在核心协议 EIP 中可以预期的一些流程变更可能包括：

* 更改工作流程，以将“符合纳入/考虑纳入”阶段添加到预最后呼叫 EIP。
* 在生命周期中添加测试网和主网步骤
* 为将在特定分叉中实现的 EIP 添加“分叉”标题到 RFC 部分
* 将测试部分更改为标题链接以引用测试

一些 ERC 可能希望采用的流程变更：

* 强化工作组模型，并添加一个可选的“形成工作组”步骤，编辑可能需要。
* 为被未来规范废除的 EIP 添加“过时”或“被替代”的生命周期步骤。
* 为特定 EIP 授权单个 EIP 审阅者

### 反对意见：对仓库和流程的结构性变更不需要捆绑。

可以将仓库的结构与任何与此相关的 EIP 流程变更分开。捆绑这些变更是没有必要的，这种结构和流程变更应独立处理。

为了满足这一反对意见，本 EIP 已被修订为仅处理仓库中的结构性变更，并可以适应任何其他独立的流程变更，并映射到这些结果上。

## 向后兼容性

### 旧链接

指向旧网址 `https://eips.ethereum.org/` 的旧 ERC 链接将继续有效。将设置重定向指令以重定向到其对应位置的新 ERC 仓库。

### 零散提案

ERC 社区成员可以继续在 EIP 提案中发布新的 ERC。编辑将能够将其重定向到新仓库。未响应编辑请求的 ERC 无论如何都不会被合并。

## 安全考虑

该提案仅涉及 EIP 和 ERC 提案流程，预计不会因其采用而暴露任何新的攻击面。

## 版权

版权及相关权利通过 [CC0](../LICENSE.md) 放弃。
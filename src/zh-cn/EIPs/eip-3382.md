---
eip: 3382
title: 硬编码区块 gas 限制
author: Philippe Castonguay (@PhABC)
discussions-to: https://ethereum-magicians.org/t/eip-3382-hardcoded-gas-limit
status: 撤回
withdrawal-reason: 作者更倾向于 [EIP-3756](./eip-3756.md)
type: 标准跟踪
category: 核心
created: 2021-03-13
---

## 简单总结

将区块 gas 限制硬编码为 `12,500,000` gas 每个区块。

## 摘要

更新区块验证规则，使得如果 `gas_limit` 头字段不等于 `12,500,000`，则该区块无效。

## 动机

以太坊的工作量证明和权益证明设计都假设区块生产者是经济理性的，但并不假设区块生产者是善意的。然而，有一个例外，即当区块生产者选择区块的 gas 限制时，假设区块生产者关心链的长期健康和去中心化。实际上，区块 gas 限制是以太坊中唯一一个不是由节点共识决定的参数，而是由区块生产者选择的。这个决定最初是为了在必要时允许对区块 gas 限制进行紧急更改。大幅增加或减少这个参数可能会产生严重的后果，这可能并不是所期望的。因此，这是一个关键参数，需要节点共识以避免少数参与者对网络其余部分施加任何突然的有害变化。

## 规范
在 EIP-1559 后，将 `gasLimit` 称为 `gasTarget`。

### 添加的共识约束

从 `FORK_BLOCK_NUMBER` 开始，`header.gasLimit` **必须** 等于 `BLOCK_GAS_LIMIT`，其中 `BLOCK_GAS_LIMIT` 是硬编码常量，设置为 `12,500,000`。

## 理由

### 保持区块头中的 gasLimit

虽然可以从区块头中删除 `gasLimit` 字段，但这将改变要哈希的数据结构，可能导致意想不到的后果。因此，保留 gasLimit 作为区块头的一部分更为简单。

### 选择的 gas 限制

`12,500,000` 的值被提议为当前撰写此 EIP 时的区块 gas 限制。实际数值可以通过后续的 EIP 进行更改，以避免偏离此 EIP 的核心意图。

## 向后兼容性

此 EIP 向后兼容。

## 安全考虑
快速更改 gas 限制可能会更难以执行，这在出现需要更改 gas 限制的紧急情况下可能会造成问题。

## 版权

版权及相关权利通过 [CC0](../LICENSE.md) 放弃。
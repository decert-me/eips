---
eip: 67
title: 带有元数据、值和字节码的 URI 方案
description: 将交易编码为 URI 的格式
author: Alex Van de Sande (@alexvansande)
discussions-to: https://github.com/ethereum/EIPs/issues/67
status: 撤回
type: 标准跟踪
category: ERC
created: 2016-02-17
withdrawal-reason: 被 EIP-681 取代
---

## 摘要

该提案（受 BIP 21 启发）定义了一种将交易编码为 URI 的格式，包括接收者、以太数量（可能为零）和可选的字节码。

## 动机

想象以下场景：

    * 一个交易所或像 ShapeShift 这样的即时转换器希望创建一个单一的以太坊地址用于支付，这些支付将被转换为其内部系统的信用或输出比特币到一个地址。
    * 一家商店希望向客户展示一个二维码，该二维码将弹出一个支付，金额正好为 12.34 以太，并包含有关所购产品的元数据。
    * 一个博彩网站希望提供一个链接，用户可以在其网站上点击，该链接将打开一个默认的以太坊钱包并执行一个具有给定参数的特定合约。
    * 一个在 Mist 中的 dapp 希望简单地要求用户在一次调用中使用特定 ABI 签署交易。

在所有这些场景中，提供者希望内部设置一个交易，包括接收者、相关的以太数量（或无）和可选的字节码，所有这些都不需要最终用户的任何麻烦，用户只需选择发送者并授权交易。

目前对此的实现很不稳定：ShapeShift 创建了大量临时地址，并使用内部系统检查哪个地址对应于哪个元数据，商店没有任何标准方式在以太支付中放置有关价格的特定元数据，任何实现合约的应用程序都必须根据其目标客户使用不同的解决方案。

该提案超越了地址，还包括可选的字节码和值。当然，这会使链接变得更长，但这不应该是用户可见的。相反，它应该以视觉代码（二维码或其他方式）、链接或其他方式传递信息。

如果在所有钱包中正确实现，这应该使从钱包直接执行合约变得更简单，因为钱包客户端只需通过读取二维码获取字节码。

## 规范

如果我们遵循比特币标准，结果将是：

```
 ethereum:<address>[?value=<value>][?gas=<suggestedGas>][?data=<bytecode>]
```

其他数据可以添加，但理想情况下客户端应该从区块链的其他地方获取这些数据，因此不应该有 `label` 或 `message` 显示给用户，这些应该从身份系统或交易本身的元数据中读取。

### 示例 1

点击此链接将打开一个交易，尝试将 _5 只独角兽_ 发送到地址 _deadbeef_。用户只需根据每个钱包的 UI 进行批准。

```
 ethereum:0x89205A3A3b2A69De6Dbf7f01ED13B2108B2c43e7?gas=100000&data=0xa9059cbb00000000000000000000000000000000000000000000000000000000deadbeef0000000000000000000000000000000000000000000000000000000000000005
```

#### 无字节码

或者，字节码可以由客户端生成，请求将以纯文本形式发送：

```
 ethereum:<address>[?value=<value>][?gas=<suggestedGas>][?function=nameOfFunction(param)]
```

### 示例 2

这是与上述相同的功能，将 5 只独角兽从发送者发送到 _deadbeef_，但现在具有更可读的功能，客户端将其转换为字节码。

```
 ethereum:0x89205A3A3b2A69De6Dbf7f01ED13B2108B2c43e7?gas=100000&function=transfer(address 0xdeadbeef, uint 5)
```

## 理由

TODO

## 安全考虑

TODO

## 版权

版权及相关权利通过 [CC0](../LICENSE.md) 放弃。